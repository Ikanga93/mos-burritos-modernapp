# Vercel Environment Variables Configuration
# Copy these to your Vercel Project Settings → Environment Variables
# Set all variables for "Production" environment

# ============================================
# BACKEND VARIABLES (for API serverless functions)
# ============================================

# Environment
ENVIRONMENT=production

# Database (IMPORTANT: Use connection pooling URL from Supabase)
# Format: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=your_supabase_connection_pooling_url_here

# JWT Authentication
JWT_SECRET_KEY=your-super-secret-jwt-key-min-32-characters-change-this
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Supabase
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# CORS (Your frontend domain, no trailing slash)
CORS_ORIGINS=https://your-app.vercel.app

# Stripe (Optional - if using payments)
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Frontend URL
FRONTEND_URL=https://your-app.vercel.app

# ============================================
# FRONTEND VARIABLES (for React build)
# ============================================

# Environment (for frontend)
VITE_ENVIRONMENT=production

# Supabase (for frontend auth)
VITE_SUPABASE_URL=https://xxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# API URL (leave empty to use same domain as frontend)
VITE_API_URL=

# Stripe (Optional - public key for frontend)
VITE_STRIPE_PUBLIC_KEY=pk_live_...

# ============================================
# HOW TO GET THESE VALUES
# ============================================

# DATABASE_URL:
# 1. Go to Supabase Dashboard → Settings → Database
# 2. Find "Connection Pooling" section
# 3. Copy the URI (port 6543, NOT 5432)
# 4. Replace [YOUR-PASSWORD] with your actual database password

# SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_KEY:
# 1. Go to Supabase Dashboard → Settings → API
# 2. Copy Project URL, anon/public key, and service_role key

# JWT_SECRET_KEY:
# Generate a secure random string (32+ characters)
# Example: openssl rand -base64 32

# STRIPE_SECRET_KEY, STRIPE_WEBHOOK_SECRET:
# 1. Go to Stripe Dashboard → Developers → API keys
# 2. Copy Secret key
# 3. For webhook secret: Create webhook pointing to your-app.vercel.app/api/webhook

# ============================================
# DEPLOYMENT CHECKLIST
# ============================================

# [ ] All environment variables added to Vercel
# [ ] Using Supabase connection pooling URL (port 6543)
# [ ] JWT_SECRET_KEY is strong and unique
# [ ] CORS_ORIGINS includes your frontend domain
# [ ] Supabase OAuth redirect URLs include your Vercel domain
# [ ] Stripe webhook configured (if using payments)
# [ ] Database tables created (auto-created on first request)
# [ ] Default admin password changed
